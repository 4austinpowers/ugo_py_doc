



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="A Python documentation website.">
      
      
        <link rel="canonical" href="https://ugoproto.github.io/ugo_py_doc/Regex/">
      
      
        <meta name="author" content="Ugo Sparks">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../img/favicon.ico">
      <meta name="generator" content="mkdocs-0.17.3, mkdocs-material-2.7.0">
    
    
      
        <title>Regular Expressions (regex) - ugo_py_doc</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.78aab2dc.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/application-palette.6079476c.css">
      
    
    
      <script src="../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
      
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:300,400,400i,700|Ubuntu+Mono">
        <style>body,input{font-family:"Ubuntu","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Ubuntu Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="yellow" data-md-color-accent="indigo">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <a href="#2-match-search-one-expression-one-search" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://ugoproto.github.io/ugo_py_doc/" title="ugo_py_doc" class="md-header-nav__button md-logo">
          
            <i class="md-icon">layers</i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                ugo_py_doc
              </span>
              <span class="md-header-nav__topic">
                Regular Expressions (regex)
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/ugoproto/ugo_r_doc.git/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      ugo_py_doc
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    <span class="md-nav__button md-logo">
      
        <i class="md-icon">layers</i>
      
    </span>
    ugo_py_doc
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/ugoproto/ugo_r_doc.git/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      ugo_py_doc
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2" checked>
    
    <label class="md-nav__link" for="nav-2">
      Basics
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Basics
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../Py_CS/" title="Python Cheat Sheets" class="md-nav__link">
      Python Cheat Sheets
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Python_Preliminaries/" title="Python Preliminaries" class="md-nav__link">
      Python Preliminaries
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Python_Nice_to_Have/" title="Python Nice to Have" class="md-nav__link">
      Python Nice to Have
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Freeze_the_Code/" title="Freeze the Code" class="md-nav__link">
      Freeze the Code
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Decorators/" title="Decorators" class="md-nav__link">
      Decorators
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Write_Better_Python/" title="Write Better Python with PEP" class="md-nav__link">
      Write Better Python with PEP
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        Regular Expressions (regex)
      </label>
    
    <a href="./" title="Regular Expressions (regex)" class="md-nav__link md-nav__link--active">
      Regular Expressions (regex)
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#2-match-search-one-expression-one-search" title="2, match &amp; search -- One Expression, One Search" class="md-nav__link">
    2, match &amp; search -- One Expression, One Search
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#recap" title="Recap:" class="md-nav__link">
    Recap:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-escape-characters-comprenhensive-search" title="3, Escape Characters -- Comprenhensive Search" class="md-nav__link">
    3, Escape Characters -- Comprenhensive Search
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#recap_1" title="Recap:" class="md-nav__link">
    Recap:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-repetitions-power-search" title="4, Repetitions -- Power Search" class="md-nav__link">
    4, Repetitions -- Power Search
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#recap_2" title="Recap:" class="md-nav__link">
    Recap:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-sets-target-search" title="5, Sets -- Target Search" class="md-nav__link">
    5, Sets -- Target Search
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#recap_3" title="Recap:" class="md-nav__link">
    Recap:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-boundaries-smart-search" title="6, Boundaries -- Smart Search" class="md-nav__link">
    6, Boundaries -- Smart Search
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#recap_4" title="Recap:" class="md-nav__link">
    Recap:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7-groups-subdivided-search" title="7, Groups -- Subdivided Search" class="md-nav__link">
    7, Groups -- Subdivided Search
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#recap_5" title="Recap:" class="md-nav__link">
    Recap:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#8-compile-build-dictionaries-operationalized-search" title="8, Compile &amp; Build Dictionaries -- Operationalized Search" class="md-nav__link">
    8, Compile &amp; Build Dictionaries -- Operationalized Search
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#recap_6" title="Recap:" class="md-nav__link">
    Recap:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Databases/" title="Databases" class="md-nav__link">
      Databases
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Datetime/" title="Datetime" class="md-nav__link">
      Datetime
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Gedit_Execute_Highlighted_Python_Code/" title="Gedit, Execute Highlighted Python Code" class="md-nav__link">
      Gedit, Execute Highlighted Python Code
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Scipy Stack
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Scipy Stack
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../Scipy_CS/" title="Scipy Stack Cheat Sheets" class="md-nav__link">
      Scipy Stack Cheat Sheets
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../JN_CS/" title="Jupyter Notebook Cheat Sheets" class="md-nav__link">
      Jupyter Notebook Cheat Sheets
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Scientific Python/" title="Scientific Python" class="md-nav__link">
      Scientific Python
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Importing Data into Python/" title="Importing Data into Python" class="md-nav__link">
      Importing Data into Python
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Python for Data Science/" title="Python for Data Science" class="md-nav__link">
      Python for Data Science
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Tidy_Data_in_Python/" title="Tidy Data in Python" class="md-nav__link">
      Tidy Data in Python
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Lists/" title="Lists" class="md-nav__link">
      Lists
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../IPython Notebook/" title="IPython Notebook, Collection" class="md-nav__link">
      IPython Notebook, Collection
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Python Numpy Arrays/" title="Python Numpy Arrays" class="md-nav__link">
      Python Numpy Arrays
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Vectors and Arrays (Linear Algebra)/" title="Vectors and Arrays (Linear Algebra)" class="md-nav__link">
      Vectors and Arrays (Linear Algebra)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Matplotlib, Python Plotting/" title="Matplotlib, Python Plotting" class="md-nav__link">
      Matplotlib, Python Plotting
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Viewing+3D+Volumetric+Data+With+Matplotlib/" title="Viewing 3D Volumetric Data with Matplotlib" class="md-nav__link">
      Viewing 3D Volumetric Data with Matplotlib
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Seaborn, Python Statistical Data Visualization Library/" title="Seaborn, Python's Statistical Data Visualization Library" class="md-nav__link">
      Seaborn, Python's Statistical Data Visualization Library
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Pandas+DataFrames/" title="Pandas DataFrames" class="md-nav__link">
      Pandas DataFrames
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Write Idiomatic Pandas Code/" title="Write Idiomatic Pandas Code" class="md-nav__link">
      Write Idiomatic Pandas Code
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Exploratory Data Analysis/" title="Exploratory Data Analysis (EDA)" class="md-nav__link">
      Exploratory Data Analysis (EDA)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Intro to data.world in Python/" title="Intro to data.world in Python" class="md-nav__link">
      Intro to data.world in Python
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Python+And+Excel/" title="Python and Excel" class="md-nav__link">
      Python and Excel
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Overview_of_scikit-learn/" title="Overview of scikit-learn" class="md-nav__link">
      Overview of scikit-learn
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../k-NN_Linear_regression_Logit_Scaling_Centering_Noise/" title="k-NN, Linear regression, Logit, Scaling, Centering, Noise" class="md-nav__link">
      k-NN, Linear regression, Logit, Scaling, Centering, Noise
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Time_Series_Analysis/" title="Time Series Analysis" class="md-nav__link">
      Time Series Analysis
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Sentiment_Analysis_with_Twitter/" title="Sentiment Analysis with Twitter" class="md-nav__link">
      Sentiment Analysis with Twitter
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../EDA_Machine_Learning_Feature_Engineering_and_Kaggle/" title="EDA, Machine Learning, Feature Engineering, and Kaggle" class="md-nav__link">
      EDA, Machine Learning, Feature Engineering, and Kaggle
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Courses
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Courses
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../Apprenez a programmer en Python/" title="Apprenez à programmer en Python" class="md-nav__link">
      Apprenez à programmer en Python
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Codecademy Python/" title="Codecademy Python" class="md-nav__link">
      Codecademy Python
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Learn Python the Hard Way/" title="Learn Python the Hard Way" class="md-nav__link">
      Learn Python the Hard Way
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../LPTHW, Python Code Snippets/" title="LPTHW, Python Code Snippets" class="md-nav__link">
      LPTHW, Python Code Snippets
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Introduction to Python/" title="Introduction to Python" class="md-nav__link">
      Introduction to Python
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Manuals
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Manuals
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../Automate the Boring Stuff with Python/" title="Automate the Boring Stuff with Python" class="md-nav__link">
      Automate the Boring Stuff with Python
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Real_Python/" title="Real Python" class="md-nav__link">
      Real Python
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Managing Your Biological Data with Python/" title="Managing Your Biological Data with Python" class="md-nav__link">
      Managing Your Biological Data with Python
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Python for Education/" title="Python for Education" class="md-nav__link">
      Python for Education
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#2-match-search-one-expression-one-search" title="2, match &amp; search -- One Expression, One Search" class="md-nav__link">
    2, match &amp; search -- One Expression, One Search
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#recap" title="Recap:" class="md-nav__link">
    Recap:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-escape-characters-comprenhensive-search" title="3, Escape Characters -- Comprenhensive Search" class="md-nav__link">
    3, Escape Characters -- Comprenhensive Search
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#recap_1" title="Recap:" class="md-nav__link">
    Recap:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-repetitions-power-search" title="4, Repetitions -- Power Search" class="md-nav__link">
    4, Repetitions -- Power Search
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#recap_2" title="Recap:" class="md-nav__link">
    Recap:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-sets-target-search" title="5, Sets -- Target Search" class="md-nav__link">
    5, Sets -- Target Search
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#recap_3" title="Recap:" class="md-nav__link">
    Recap:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-boundaries-smart-search" title="6, Boundaries -- Smart Search" class="md-nav__link">
    6, Boundaries -- Smart Search
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#recap_4" title="Recap:" class="md-nav__link">
    Recap:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7-groups-subdivided-search" title="7, Groups -- Subdivided Search" class="md-nav__link">
    7, Groups -- Subdivided Search
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#recap_5" title="Recap:" class="md-nav__link">
    Recap:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#8-compile-build-dictionaries-operationalized-search" title="8, Compile &amp; Build Dictionaries -- Operationalized Search" class="md-nav__link">
    8, Compile &amp; Build Dictionaries -- Operationalized Search
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#recap_6" title="Recap:" class="md-nav__link">
    Recap:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/ugoproto/ugo_r_doc.git/edit/master/docs/Regex.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                  <h1>Regular Expressions (regex)</h1>
                
                <div class="toc"><span class="toctitle">CONTENT</span><ul>
<li><a href="#1-additional-commands-unused">1, Additional Commands (unused)</a></li>
<li><a href="#2-match-search-one-expression-one-search">2, match &amp; search &ndash; One Expression, One Search</a><ul>
<li><a href="#recap">Recap:</a></li>
</ul>
</li>
<li><a href="#3-escape-characters-comprenhensive-search">3, Escape Characters &ndash; Comprenhensive Search</a><ul>
<li><a href="#recap_1">Recap:</a></li>
</ul>
</li>
<li><a href="#4-repetitions-power-search">4, Repetitions &ndash; Power Search</a><ul>
<li><a href="#recap_2">Recap:</a></li>
</ul>
</li>
<li><a href="#5-sets-target-search">5, Sets &ndash; Target Search</a><ul>
<li><a href="#recap_3">Recap:</a></li>
</ul>
</li>
<li><a href="#6-boundaries-smart-search">6, Boundaries &ndash; Smart Search</a><ul>
<li><a href="#recap_4">Recap:</a></li>
</ul>
</li>
<li><a href="#7-groups-subdivided-search">7, Groups &ndash; Subdivided Search</a><ul>
<li><a href="#recap_5">Recap:</a></li>
</ul>
</li>
<li><a href="#8-compile-build-dictionaries-operationalized-search">8, Compile &amp; Build Dictionaries &ndash; Operationalized Search</a><ul>
<li><a href="#recap_6">Recap:</a></li>
</ul>
</li>
</ul>
</div>
<hr />
<p><strong>Foreword</strong></p>
<p>Notes. Python 2 in Windows. UNIX-based OS generate slighly different results. Contrary to Windows, UNIX-based OS easily process international characters. Consult the <a href="http://docs.python-guide.org/en/latest/">Hitchicker&rsquo;s Guide to Python</a>.</p>
<ul>
<li>Check out &lsquo;Managing Your Biological Data with Python, Chapter 9, Pattern Matching and Text Mining&rsquo;.</li>
<li><a href="http://www.regexplanet.com/advanced/java/index.html">Test</a>.</li>
</ul>
<hr />
<h4 id="1-additional-commands-unused">1, Additional Commands (unused)<a class="headerlink" href="#1-additional-commands-unused" title="Permanent link">&para;</a></h4>
<ul>
<li><code class="codehilite">span</code>, return a tuple containing the start, end positions of the match.</li>
<li><code class="codehilite">start</code>, return the starting position of the match.</li>
<li><code class="codehilite">end</code>, return the ending position of the match.</li>
<li><code class="codehilite">group</code>, return the string matched by the RE</li>
<li><code class="codehilite">groups</code>, return a tuple containing the strings fal all the subgroups</li>
<li><code class="codehilite">split(s)</code>, split the string into a list, splitting it wherever the RE matches</li>
<li><code class="codehilite">sub(r, s)</code>, find all substrings where the RE matches and replaces them with a different string</li>
<li><code class="codehilite">subn(r, s)</code>, do the same thing, but return the new string and the number of replacements</li>
<li><code class="codehilite">IGNORECASE</code>, <code class="codehilite">I</code>, case-insensitive matches.</li>
</ul>
<h4 id="2-match-search-one-expression-one-search">2, <code class="codehilite">match</code> &amp; <code class="codehilite">search</code> &ndash; One Expression, One Search<a class="headerlink" href="#2-match-search-one-expression-one-search" title="Permanent link">&para;</a></h4>
<p>First, we have a text file called names.txt.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>Liff, Kenneth   kenneth@submarine.com   (555) 555-5555  Teacher, Submarine  @kennethliff
McFarland, Arthur   arty@submarine.com  (555) 555-5555  Teacher, Submarine
Arthur, King    king_arthur@camelot.co.uk   King, Camelot
Österberg, Gustav   governor@norrbotten.co.se   Governor, Norrbotten    @gustata
, Tim   tim@killerrabbit.com    Enchanter, Killer Rabbit Cave
Carson, Ryan    ryan@submarine.com  (555) 555-5543  CEO, Submarine  @ryancarson
Doctor  The doctor+companion@tardis.co.uk   Time Lord, Gallifrey
Exampleson, Exampleme   me@example.com  555-555-5552    Example, Example Co.    @exemple
Obama, Barack   president.44@us.gov 555 555-5551    President, United States of America @potus44
Chalks, Andrew  andrew@submarine.com    (555) 555-5553  Teacher, Submarine  @chalkers
Vader, Darth    darth-vader@empire.gov  (555) 555-4444  Sith lord, Galactic Empire  @darthvader
</pre></div>
</td></tr></table>

<p>Second, we want to process the file: extract strings. </p>
<p>We could use <code class="codehilite">re.match</code>, but the function is picky. <code class="codehilite">re.search</code> is more forgiving in terms of precision. In both cases, the function should return the first match it finds, then stop.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="nn">re</span>

<span class="c1"># read the file</span>
<span class="n">name_file</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;names.txt&quot;</span><span class="p">)</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">name_file</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="c1"># data is now in memory</span>
<span class="n">name_file</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="c1"># print what is in memory</span>
<span class="k">print</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;McFarland&#39;</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span><span class="o">.</span><span class="n">group</span><span class="p">()</span> <span class="c1"># r for raw string, no need for \</span>
<span class="k">print</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;Arthur&#39;</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span><span class="o">.</span><span class="n">group</span><span class="p">()</span> <span class="c1"># search in the strings</span>
</pre></div>
</td></tr></table>

<p>Results (in Windows).</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>&lt;_sre.SRE_Match object at 0x00000000021DB510&gt;
&lt;_sre.SRE_Match object at 0x00000000021DB510&gt;
</pre></div>
</td></tr></table>

<p>Results may vary in UNIX-type OS. In Linux, we get.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>&lt;_sre.SRE_Match object; span=(0, 8), match=&#39;McFarland&#39;&gt;
&lt;_sre.SRE_Match object; span=(10, 15), match=&#39;Arthur&#39;&gt;
</pre></div>
</td></tr></table>

<p>Change the script and rerun it.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="nn">re</span>

<span class="c1"># read the file</span>
<span class="n">name_file</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;names.txt&quot;</span><span class="p">)</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">name_file</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="c1"># data is now in memory</span>
<span class="n">name_file</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="c1"># print what is in memory</span>
<span class="k">print</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;McFarland&#39;</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span><span class="o">.</span><span class="n">group</span><span class="p">()</span> <span class="c1"># CHANGE</span>
<span class="k">print</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;Arthur&#39;</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span><span class="o">.</span><span class="n">group</span><span class="p">()</span> <span class="c1"># CHANGE</span>
</pre></div>
</td></tr></table>

<p>Results.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>McFarland
Arthur
</pre></div>
</td></tr></table>

<p>Alternatively.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="nn">re</span>

<span class="c1"># read the file</span>
<span class="n">name_file</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;names.txt&quot;</span><span class="p">)</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">name_file</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="c1"># data is now in memory</span>
<span class="n">name_file</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="c1"># print what is in memory</span>
<span class="n">last_name</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;McFarland&#39;</span>
<span class="n">first_name</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;Arthur&#39;</span>
<span class="k">print</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">last_name</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span><span class="o">.</span><span class="n">group</span><span class="p">()</span> <span class="c1"># CHANGE</span>
<span class="k">print</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">first_name</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span><span class="o">.</span><span class="n">group</span><span class="p">()</span> <span class="c1"># CHANGE</span>
</pre></div>
</td></tr></table>

<h5 id="recap">Recap:<a class="headerlink" href="#recap" title="Permanent link">&para;</a></h5>
<ul>
<li><code class="codehilite">match</code>.</li>
<li><code class="codehilite">search</code>.</li>
</ul>
<h4 id="3-escape-characters-comprenhensive-search">3, Escape Characters &ndash; Comprenhensive Search<a class="headerlink" href="#3-escape-characters-comprenhensive-search" title="Permanent link">&para;</a></h4>
<ul>
<li><code class="codehilite">\w</code>, match any Unicode word character.</li>
<li><code class="codehilite">\W</code>, match anything that isn&rsquo;t a Unicode word character.</li>
<li><code class="codehilite">\s</code>, any whitespace.</li>
<li><code class="codehilite">\S</code>, not.</li>
<li><code class="codehilite">\d</code>, any number 0-9.</li>
<li><code class="codehilite">\D</code>, not.</li>
<li><code class="codehilite">\b</code>, boundaries or the edges of a word.</li>
<li><code class="codehilite">\B</code>, not.</li>
</ul>
<p>Try.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="nn">re</span>

<span class="c1"># read the file</span>
<span class="n">name_file</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;names.txt&quot;</span><span class="p">)</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">name_file</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="c1"># data is now in memory</span>
<span class="n">name_file</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="k">print</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\w, \w&#39;</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span> <span class="c1"># CHANGE</span>
</pre></div>
</td></tr></table>

<p>Results.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>None
</pre></div>
</td></tr></table>

<p>We get <code class="codehilite">None</code> because of <code class="codehilite">re.match</code>. Instead, try.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="nn">re</span>

<span class="c1"># read the file</span>
<span class="n">name_file</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;names.txt&quot;</span><span class="p">)</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">name_file</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="c1"># data is now in memory</span>
<span class="n">name_file</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="c1"># catch phone numbers</span>
<span class="k">print</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\d\d\d-\d\d\d\d&#39;</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span><span class="o">.</span><span class="n">group</span><span class="p">()</span> <span class="c1"># CHANGE</span>
</pre></div>
</td></tr></table>

<p>Results.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>555-5555
</pre></div>
</td></tr></table>

<p>Improve the code.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="nn">re</span>

<span class="c1"># read the file</span>
<span class="n">name_file</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;names.txt&quot;</span><span class="p">)</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">name_file</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="c1"># data is now in memory</span>
<span class="n">name_file</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="c1"># catch complete phone numbers</span>
<span class="k">print</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\(\d\d\d\) \d\d\d-\d\d\d\d&#39;</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span><span class="o">.</span><span class="n">group</span><span class="p">()</span> <span class="c1"># CHANGE</span>
</pre></div>
</td></tr></table>

<p>Results.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>(555) 555-5555
</pre></div>
</td></tr></table>

<h5 id="recap_1">Recap:<a class="headerlink" href="#recap_1" title="Permanent link">&para;</a></h5>
<ul>
<li><code class="codehilite">match</code>.</li>
<li><code class="codehilite">search</code>.</li>
<li>Escape characters (see above).</li>
</ul>
<h4 id="4-repetitions-power-search">4, Repetitions &ndash; Power Search<a class="headerlink" href="#4-repetitions-power-search" title="Permanent link">&para;</a></h4>
<ul>
<li><code class="codehilite">{3}</code>, repeat 3 times.</li>
<li><code class="codehilite">{,3}</code>, repeat 0 to 3 times.</li>
<li><code class="codehilite">{3,}</code>, repeat 3 or more times.</li>
<li><code class="codehilite">{3, 5}</code>, repeat 3, 4 or 5 times.</li>
<li><code class="codehilite">?</code>, repeat 0 or once.</li>
<li><code class="codehilite">*</code>, repeat at least 0 times (no upper bound).</li>
<li><code class="codehilite">+</code>, repeat at least once (no upper bound).</li>
</ul>
<p>Catch a name.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="nn">re</span>

<span class="c1"># read the file</span>
<span class="n">name_file</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;names.txt&quot;</span><span class="p">)</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">name_file</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="c1"># data is now in memory</span>
<span class="n">name_file</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="c1"># catch a name</span>
<span class="k">print</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\w+, \w+&#39;</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span><span class="o">.</span><span class="n">group</span><span class="p">()</span> <span class="c1"># CHANGE</span>
</pre></div>
</td></tr></table>

<p>Results.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>Liff, Kenneth
</pre></div>
</td></tr></table>

<p>Catch a phone number.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="nn">re</span>

<span class="c1"># read the file</span>
<span class="n">name_file</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;names.txt&quot;</span><span class="p">)</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">name_file</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="c1"># data is now in memory</span>
<span class="n">name_file</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="c1"># catch a complete phone numbers</span>
<span class="k">print</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\(\d{3}\) \d{3}-\d{4}&#39;</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span><span class="o">.</span><span class="n">group</span><span class="p">()</span> <span class="c1"># CHANGE</span>
</pre></div>
</td></tr></table>

<p>Results.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>(555) 555-5555
</pre></div>
</td></tr></table>

<p>Catch multiple phone numbers.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="nn">re</span>

<span class="c1"># read the file</span>
<span class="n">name_file</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;names.txt&quot;</span><span class="p">)</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">name_file</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="c1"># data is now in memory</span>
<span class="n">name_file</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="c1"># more universal way (parentheses, hyphen, space become optional)</span>
<span class="c1"># on multiple lines!</span>
<span class="k">print</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\(?\d{3}\)?-?\s?\d{3}-\d{4}&#39;</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span> <span class="c1"># CHANGE</span>
</pre></div>
</td></tr></table>

<p>Results.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>[&#39;(555) 555-5555&#39;, &#39;(555) 555-5555&#39;, &#39;(555) 555-5543&#39;, &#39;555-555-5552&#39;, &#39;555 555-5551&#39;, &#39;(555) 555-5553&#39;, &#39;(555) 555-4444&#39;]
</pre></div>
</td></tr></table>

<p>Catch multiple names.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="nn">re</span>

<span class="c1"># read the file</span>
<span class="n">name_file</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;names.txt&quot;</span><span class="p">)</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">name_file</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="c1"># data is now in memory</span>
<span class="n">name_file</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="c1"># universal way for names</span>
<span class="k">print</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\w*, \w+&#39;</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>  <span class="c1"># CHANGE: findall</span>
</pre></div>
</td></tr></table>

<p>Results.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>[&#39;Liff, Kenneth&#39;, &#39;Teacher, Submarine&#39;, &#39;McFarland, Arthur&#39;, &#39;Teacher, Submarine&#39;, &#39;Arthur, King&#39;, &#39;King, Camelot&#39;, &#39;sterberg, Gustav&#39;, &#39;Governor, Norrbotten&#39;, &#39;, Tim&#39;, &#39;Enchanter, Killer&#39;, &#39;Carson, Ryan&#39;, &#39;CEO, Submarine&#39;, &#39;Lord, Gallifrey&#39;, &#39;Exampleson, Exampleme&#39;, &#39;Obama, Barack&#39;, &#39;President, United&#39;, &#39;Chalks, Andrew&#39;, &#39;Teacher, Submarine&#39;, &#39;Vader, Darth&#39;, &#39;lord, Galactic&#39;]
</pre></div>
</td></tr></table>

<h5 id="recap_2">Recap:<a class="headerlink" href="#recap_2" title="Permanent link">&para;</a></h5>
<ul>
<li><code class="codehilite">match</code>.</li>
<li><code class="codehilite">search</code>.</li>
<li>Escape characters (previous section).</li>
<li>Repetitions (see above).</li>
<li><code class="codehilite">findall</code>.</li>
</ul>
<h4 id="5-sets-target-search">5, Sets &ndash; Target Search<a class="headerlink" href="#5-sets-target-search" title="Permanent link">&para;</a></h4>
<p>Catch patterns. We only need unique characters even when a word contains repetitive characters.</p>
<ul>
<li><code class="codehilite">[aple]</code>, search for &lsquo;apple&rsquo;.</li>
<li><code class="codehilite">[a-z]</code>, search for any lowercase letters.</li>
<li><code class="codehilite">[^2]</code>, search for anything that is not 2.</li>
<li><code class="codehilite">.</code>, stands for any possible character.</li>
</ul>
<p>For finding email addresses, search better &lsquo;cures&rsquo; on email adresses. Search for email address regex or email address regular expressions on Stack Overflow, Quora, etc.</p>
<p>We can also try.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="nn">re</span>

<span class="c1"># read the file</span>
<span class="n">name_file</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;names.txt&quot;</span><span class="p">)</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">name_file</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="c1"># data is now in memory</span>
<span class="n">name_file</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="c1"># find emails</span>
<span class="k">print</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;[-\w\d+.]+@[-\w\d.]+&#39;</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span> <span class="c1"># CHANGE</span>
</pre></div>
</td></tr></table>

<p>Results.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>[&#39;kenneth@submarine.com&#39;, &#39;arty@submarine.com&#39;, &#39;king_arthur@camelot.co.uk&#39;, &#39;governor@norrbotten.co.se&#39;, &#39;tim@killerrabbit.com&#39;, &#39;ryan@submarine.com&#39;, &#39;doctor+companion@tardis.co.uk&#39;, &#39;me@example.com&#39;, &#39;president.44@us.gov&#39;, &#39;andrew@submarine.com&#39;, &#39;darth-vader@empire.gov&#39;]
</pre></div>
</td></tr></table>

<p>Retrieve &lsquo;submarine&rsquo;. All characters are unique. The set should be &lsquo;submarine&rsquo;.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="nn">re</span>

<span class="c1"># read the file</span>
<span class="n">name_file</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;names.txt&quot;</span><span class="p">)</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">name_file</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="c1"># data is now in memory</span>
<span class="n">name_file</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="c1"># set [submarine] should catch &#39;submarine&#39;</span>
<span class="c1"># add word boundaries, at least once, ignore lower or upper cases</span>
<span class="k">print</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\b[submarine]+\b&#39;</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">IGNORECASE</span><span class="p">)</span> <span class="c1"># CHANGE</span>
</pre></div>
</td></tr></table>

<p>Results.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>[&#39;submarine&#39;, &#39;Submarine&#39;, &#39;submarine&#39;, &#39;Submarine&#39;, &#39;se&#39;, &#39;submarine&#39;, &#39;Submarine&#39;, &#39;me&#39;, &#39;us&#39;, &#39;submarine&#39;, &#39;Submarine&#39;]
</pre></div>
</td></tr></table>

<p>However, we also collect shorter strings (&lsquo;se&rsquo;, &lsquo;me&rsquo;, &lsquo;us&rsquo;, &lsquo;Maria&rsquo;) with characters from [submarine]. If we wanted to limit the search to &lsquo;submarine&rsquo; only.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="nn">re</span>

<span class="c1"># read the file</span>
<span class="n">name_file</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;names.txt&quot;</span><span class="p">)</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">name_file</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="c1"># data is now in memory</span>
<span class="n">name_file</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="c1"># always 9 letters</span>
<span class="k">print</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\b[submarine]{9}\b&#39;</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">IGNORECASE</span><span class="p">)</span> <span class="c1"># CHANGE</span>
</pre></div>
</td></tr></table>

<p>Results.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>[&#39;submarine&#39;, &#39;Submarine&#39;, &#39;submarine&#39;, &#39;Submarine&#39;, &#39;submarine&#39;, &#39;Submarine&#39;, &#39;submarine&#39;, &#39;Submarine&#39;]
</pre></div>
</td></tr></table>

<h5 id="recap_3">Recap:<a class="headerlink" href="#recap_3" title="Permanent link">&para;</a></h5>
<ul>
<li><code class="codehilite">match</code>.</li>
<li><code class="codehilite">search</code>.</li>
<li>Escape characters (previous section).</li>
<li>Repetitions (previous section).</li>
<li><code class="codehilite">findall</code>.<ul>
<li><code class="codehilite">re.IGNORECASE</code>.</li>
</ul>
</li>
</ul>
<h4 id="6-boundaries-smart-search">6, Boundaries &ndash; Smart Search<a class="headerlink" href="#6-boundaries-smart-search" title="Permanent link">&para;</a></h4>
<ul>
<li><code class="codehilite">&#39;&#39;&#39;</code>, add a multiline string.</li>
<li><code class="codehilite">\b@</code>, word boundary <code class="codehilite">@</code>.</li>
<li><code class="codehilite">\b</code>, word boundary <code class="codehilite"></code>.</li>
<li><code class="codehilite">^</code>, ignore.</li>
<li><code class="codehilite">\t</code>, tab character.</li>
<li><code class="codehilite">.</code>, any character.</li>
</ul>
<p>Find emails with word boundaries, spaces, words, explicit spaces (without using VERBOSE!!!), at least once for any number of characters, ignore tabs, and ignore newlines.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="nn">re</span>

<span class="c1"># read the file</span>
<span class="n">name_file</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;names.txt&quot;</span><span class="p">)</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">name_file</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="c1"># data is now in memory</span>
<span class="n">name_file</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="c1"># multiline strings</span>
<span class="k">print</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1">    \b@[-\w\d.]* # First a word boundary, an @, and then any number of characters</span>
<span class="s1">    [^gov\t] # Ignore 1+ instances of the letters &#39;g&#39;, &#39;o&#39; or &#39;v&#39; and a tab</span>
<span class="s1">    \b # Another word boundary</span>
<span class="s1">&#39;&#39;&#39;</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">VERBOSE</span><span class="o">|</span><span class="n">re</span><span class="o">.</span><span class="n">I</span><span class="p">)</span>
</pre></div>
</td></tr></table>

<p>Results.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>[&#39;@submarine.com&#39;, &#39;@submarine.com&#39;, &#39;@camelot.co.uk&#39;, &#39;@norrbotten.co.se&#39;, &#39;@killerrabbit.com&#39;, &#39;@submarine.com&#39;, &#39;@tardis.co.uk&#39;, &#39;@example.com&#39;, &#39;@us.&#39;, &#39;@submarine.com&#39;, &#39;@empire.&#39;]
</pre></div>
</td></tr></table>

<p>We left off a few details in the email addresses. </p>
<p>Retrieve the names and workplaces.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="nn">re</span>

<span class="c1"># read the file</span>
<span class="n">name_file</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;names.txt&quot;</span><span class="p">)</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">name_file</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="c1"># data is now in memory</span>
<span class="n">name_file</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="c1"># name and place of work</span>
<span class="k">print</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1">    \b[-\w]*, # Find a word boundary, 1+ hyphens or characters, and a comma</span>
<span class="s1">    \s  # Find 1 whitespace</span>
<span class="s1">    [-\w ]+ # 1+ hyphens and characters and explicit spaces</span>
<span class="s1">    [^\t\n] # Ignore tabs and newlines</span>
<span class="s1">&#39;&#39;&#39;</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">X</span><span class="p">)</span>
</pre></div>
</td></tr></table>

<p>Results.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>[&#39;Liff, Kenneth&#39;, &#39;Teacher, Submarine&#39;, &#39;McFarland, Arthur&#39;, &#39;Teacher, Submarine&#39;, &#39;Arthur, King&#39;, &#39;King, Camelot&#39;, &#39;sterberg, Gustav&#39;, &#39;Governor, Norrbotten&#39;, &#39;Enchanter, Killer Rabbit Cave&#39;, &#39;Carson, Ryan&#39;, &#39;CEO, Submarine&#39;, &#39;Lord, Gallifrey&#39;, &#39;Exampleson, Exampleme&#39;, &#39;Example, Example Co.&#39;, &#39;Obama, Barack&#39;, &#39;President, United States of America&#39;, &#39;Chalks, Andrew&#39;, &#39;Teacher, Submarine&#39;, &#39;Vader, Darth&#39;, &#39;lord, Galactic Empire&#39;]
</pre></div>
</td></tr></table>

<p>The only problem: it did not catch <code class="codehilite">Ö</code> and <code class="codehilite">, Tim</code>. This is the problem with Windows: it is picky with some characters and requires extra coding to work around these problems. UNIX-based OS do not have these problems.</p>
<h5 id="recap_4">Recap:<a class="headerlink" href="#recap_4" title="Permanent link">&para;</a></h5>
<ul>
<li><code class="codehilite">match</code>.</li>
<li><code class="codehilite">search</code>.</li>
<li>Escape characters (previous section).</li>
<li>Repetitions (previous section).</li>
<li><code class="codehilite">findall</code>.<ul>
<li><code class="codehilite">re.IGNORECASE</code>.</li>
<li><code class="codehilite">re.VERBOSE|re.I</code>, more readable, introduce whitespaces or comments.</li>
<li><code class="codehilite">re.X</code>.</li>
</ul>
</li>
</ul>
<h4 id="7-groups-subdivided-search">7, Groups &ndash; Subdivided Search<a class="headerlink" href="#7-groups-subdivided-search" title="Permanent link">&para;</a></h4>
<ul>
<li>last and first names.</li>
<li>emails.</li>
<li>phone numbers.</li>
<li>job and workplaces.</li>
<li>Twitter accounts.</li>
<li>etc&hellip;</li>
</ul>
<p>For that, we need parentheses.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="nn">re</span>

<span class="c1"># read the file</span>
<span class="n">name_file</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;names.txt&quot;</span><span class="p">)</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">name_file</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="c1"># data is now in memory</span>
<span class="n">name_file</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="c1"># retrieve groups...</span>
<span class="k">print</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1">    ([-\w ]+,\s[-\w ]+)\t # last and first names</span>
<span class="s1">    ([-\w\d.+]+@[-\w\d.]+)\t # emails</span>
<span class="s1">    (\(?\d{3}\)?-?\s?\d{3}-\d{4})\t # phone numbers</span>
<span class="s1">    ([\w\s]+,\s[\w\s]+)\t # job and work place</span>
<span class="s1">    (@[\w\d]+)$ # Twitter account</span>
<span class="s1">&#39;&#39;&#39;</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">X</span><span class="p">)</span>
</pre></div>
</td></tr></table>

<p>Results (a tupple).</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>[(&#39;Liff, Kenneth&#39;, &#39;kenneth@submarine.com&#39;, &#39;(555) 555-5555&#39;, &#39;Teacher, Submarine&#39;, &#39;@kennethliff&#39;), (&#39;Carson, Ryan&#39;, &#39;ryan@submarine.com&#39;, &#39;(555) 555-5543&#39;, &#39;CEO, Submarine&#39;, &#39;@ryancarson&#39;), (&#39;Obama, Barack&#39;, &#39;president.44@us.gov&#39;, &#39;555 555-5551&#39;, &#39;President, United States of America&#39;, &#39;@potus44&#39;), (&#39;Chalks, Andrew&#39;, &#39;andrew@submarine.com&#39;, &#39;(555) 555-5553&#39;, &#39;Teacher, Submarine&#39;, &#39;@chalkers&#39;), (&#39;Vader, Darth&#39;, &#39;darth-vader@empire.gov&#39;, &#39;(555) 555-4444&#39;, &#39;Sith lord, Galactic Empire&#39;, &#39;@darthvader&#39;)]
</pre></div>
</td></tr></table>

<p>The only problem: it did not catch <code class="codehilite">Ö</code> and <code class="codehilite">, Tim</code>. This is the problem with Windows: it is picky with some characters and requires extra coding to work around these problems. UNIX-based OS do not have these problems.</p>
<p>On the other hand, there are some details missing. We need to make the code more universal for the first and last names. The phone number should be optional, tabs are optional, without Twitter accounts, and tabs should become a new line instead.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="nn">re</span>

<span class="c1"># read the file</span>
<span class="n">name_file</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;names.txt&quot;</span><span class="p">)</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">name_file</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="c1"># data is now in memory</span>
<span class="n">name_file</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="c1"># retrieve groups...</span>
<span class="k">print</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1">    ^([-\w ]*,\s[-\w ]+)\t # last and first names CHANGE</span>
<span class="s1">    ([-\w\d.+]+@[-\w\d.]+)\t # emails</span>
<span class="s1">    (\(?\d{3}\)?-?\s?\d{3}-\d{4})?\t # phone numbers CHANGE</span>
<span class="s1">    ([\w\s]+,\s[\w\s.]+)\t? # job and work place CHANGE</span>
<span class="s1">    (@[\w\d]+)?$ # Twitter account CHANGE</span>
<span class="s1">&#39;&#39;&#39;</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">X</span><span class="o">|</span><span class="n">re</span><span class="o">.</span><span class="n">MULTILINE</span><span class="p">)</span>
</pre></div>
</td></tr></table>

<p>Results (a tupple). More.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>[(&#39;Liff, Kenneth&#39;, &#39;kenneth@submarine.com&#39;, &#39;(555) 555-5555&#39;, &#39;Teacher, Submarine&#39;, &#39;@kennethliff&#39;), (&#39;McFarland, Arthur&#39;, &#39;arty@submarine.com&#39;, &#39;(555) 555-5555&#39;, &#39;Teacher, Submarine&#39;, &#39;&#39;), (&#39;Carson, Ryan&#39;, &#39;ryan@submarine.com&#39;, &#39;(555) 555-5543&#39;, &#39;CEO, Submarine\t&#39;, &#39;@ryancarson&#39;), (&#39;Exampleson, Exampleme&#39;, &#39;me@example.com&#39;, &#39;555-555-5552&#39;, &#39;Example, Example Co.\t&#39;, &#39;@exemple&#39;), (&#39;Obama, Barack&#39;, &#39;president.44@us.gov&#39;, &#39;555 555-5551&#39;, &#39;President, United States of America\t&#39;, &#39;@potus44&#39;), (&#39;Chalks, Andrew&#39;, &#39;andrew@submarine.com&#39;, &#39;(555) 555-5553&#39;, &#39;Teacher, Submarine\t&#39;, &#39;@chalkers&#39;), (&#39;Vader, Darth&#39;, &#39;darth-vader@empire.gov&#39;, &#39;(555) 555-4444&#39;, &#39;Sith lord, Galactic Empire\t&#39;, &#39;@darthvader&#39;)]
</pre></div>
</td></tr></table>

<p>The only problem: it did not catch <code class="codehilite">Ö</code> and <code class="codehilite">, Tim</code>. This is the problem with Windows: it is picky with some characters and requires extra coding to work around these problems. UNIX-based OS do not have these problems.</p>
<p>Turn the results into a <strong>dictionary</strong> with &lsquo;patterns&rsquo; or <code class="codehilite">P&lt;...&gt;</code>.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="nn">re</span>

<span class="c1"># read the file</span>
<span class="n">name_file</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;names.txt&quot;</span><span class="p">)</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">name_file</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="c1"># data is now in memory</span>
<span class="n">name_file</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="c1"># build a dictionary CHANGE ALL</span>
<span class="n">line</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1">    ^(?P&lt;name&gt;[-\w ]*,\s[-\w ]+)\t</span>
<span class="s1">    (?P&lt;email&gt;[-\w\d.+]+@[-\w\d.]+)\t</span>
<span class="s1">    (?P&lt;phone&gt;\(?\d{3}\)?-?\s?\d{3}-\d{4})?\t</span>
<span class="s1">    (?P&lt;job&gt;[\w\s]+,\s[\w\s.]+)\t?</span>
<span class="s1">    (?P&lt;twitter&gt;@[\w\d]+)?$</span>
<span class="s1">&#39;&#39;&#39;</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">X</span><span class="o">|</span><span class="n">re</span><span class="o">.</span><span class="n">MULTILINE</span><span class="p">)</span>

<span class="k">print</span> <span class="s2">&quot;print line...&quot;</span>
<span class="k">print</span> <span class="n">line</span>
<span class="k">print</span> <span class="s2">&quot;=&quot;</span> <span class="o">*</span> <span class="mi">25</span>
<span class="k">print</span> <span class="s2">&quot;print line.group()...&quot;</span>
<span class="k">print</span> <span class="n">line</span><span class="o">.</span><span class="n">group</span><span class="p">()</span>
<span class="k">print</span> <span class="s2">&quot;=&quot;</span> <span class="o">*</span> <span class="mi">25</span>
<span class="k">print</span> <span class="s2">&quot;print line.groupdict()...&quot;</span>
<span class="k">print</span> <span class="n">line</span><span class="o">.</span><span class="n">groupdict</span><span class="p">()</span>
</pre></div>
</td></tr></table>

<p>Results (a tupple). Say we remove the first line in the data&hellip;</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>print line...
&lt;_sre.SRE_Match object at 0x00000000021DDDD8&gt;
=========================
print line.group()...
McFarland, Arthur   arty@submarine.com  (555) 555-5555  Teacher, Submarine
=========================
print line.groupdict()...
{&#39;phone&#39;: &#39;(555) 555-5555&#39;, &#39;job&#39;: &#39;Teacher, Submarine&#39;, &#39;name&#39;: &#39;McFarland, Arthur&#39;, &#39;twitter&#39;: None, &#39;email&#39;: &#39;arty@submarine.com&#39;}
</pre></div>
</td></tr></table>

<h5 id="recap_5">Recap:<a class="headerlink" href="#recap_5" title="Permanent link">&para;</a></h5>
<ul>
<li><code class="codehilite">match</code>.</li>
<li><code class="codehilite">search</code>.</li>
<li>Escape characters (previous section).</li>
<li>Repetitions (previous section).</li>
<li><code class="codehilite">findall</code>.<ul>
<li><code class="codehilite">re.IGNORECASE</code>.</li>
<li><code class="codehilite">re.VERBOSE|re.I</code>.</li>
<li><code class="codehilite">re.X</code>.</li>
<li><code class="codehilite">re.X|re.MULTILINE</code> or <code class="codehilite">re.X|re.M</code>.</li>
</ul>
</li>
</ul>
<h4 id="8-compile-build-dictionaries-operationalized-search">8, Compile &amp; Build Dictionaries &ndash; Operationalized Search<a class="headerlink" href="#8-compile-build-dictionaries-operationalized-search" title="Permanent link">&para;</a></h4>
<p>Compile a pattern into an object. Replace <code class="codehilite">findall</code> or <code class="codehilite">search</code> with <code class="codehilite">compile</code>. Remove <code class="codehilite">data</code> to make a generic function to process any data.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="nn">re</span>

<span class="c1"># read the file</span>
<span class="n">name_file</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;names.txt&quot;</span><span class="p">)</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">name_file</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="c1"># data is now in memory</span>
<span class="n">name_file</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="c1"># build a dictionary CHANGE</span>
<span class="n">line</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1">    ^(?P&lt;name&gt;[-\w ]*,\s[-\w ]+)\t</span>
<span class="s1">    (?P&lt;email&gt;[-\w\d.+]+@[-\w\d.]+)\t</span>
<span class="s1">    (?P&lt;phone&gt;\(?\d{3}\)?-?\s?\d{3}-\d{4})?\t</span>
<span class="s1">    (?P&lt;job&gt;[\w\s]+,\s[\w\s.]+)\t?</span>
<span class="s1">    (?P&lt;twitter&gt;@[\w\d]+)?$</span>
<span class="s1">&#39;&#39;&#39;</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">X</span><span class="o">|</span><span class="n">re</span><span class="o">.</span><span class="n">MULTILINE</span><span class="p">)</span>

<span class="k">print</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">line</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span><span class="o">.</span><span class="n">groupdict</span><span class="p">()</span> <span class="c1"># CHANGE</span>
</pre></div>
</td></tr></table>

<p>Results (a tupple). Say we remove the first line in the data&hellip;</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>{&#39;phone&#39;: &#39;(555) 555-5555&#39;, &#39;job&#39;: &#39;Teacher, Submarine&#39;, &#39;name&#39;: &#39;McFarland, Arthur&#39;, &#39;twitter&#39;: None, &#39;email&#39;: &#39;arty@submarine.com&#39;}
</pre></div>
</td></tr></table>

<p>Alternatively.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="nn">re</span>

<span class="c1"># read the file</span>
<span class="n">name_file</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;names.txt&quot;</span><span class="p">)</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">name_file</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="c1"># data is now in memory</span>
<span class="n">name_file</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="c1"># build a dictionary CHANGE</span>
<span class="n">line</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1">    ^(?P&lt;name&gt;[-\w ]*,\s[-\w ]+)\t</span>
<span class="s1">    (?P&lt;email&gt;[-\w\d.+]+@[-\w\d.]+)\t</span>
<span class="s1">    (?P&lt;phone&gt;\(?\d{3}\)?-?\s?\d{3}-\d{4})?\t</span>
<span class="s1">    (?P&lt;job&gt;[\w\s]+,\s[\w\s.]+)\t?</span>
<span class="s1">    (?P&lt;twitter&gt;@[\w\d]+)?$</span>
<span class="s1">&#39;&#39;&#39;</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">X</span><span class="o">|</span><span class="n">re</span><span class="o">.</span><span class="n">MULTILINE</span><span class="p">)</span>

<span class="k">print</span> <span class="n">line</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="o">.</span><span class="n">groupdict</span><span class="p">()</span> <span class="c1"># CHANGE</span>
</pre></div>
</td></tr></table>

<p>Compiling not only does it make the script universal (ready for any data), but it also make the execution faster. It becomes easier to compile the script into an executable.</p>
<p>We want all the lines, but a specific group (say &lsquo;names&rsquo;).</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="nn">re</span>

<span class="c1"># read the file</span>
<span class="n">name_file</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;names.txt&quot;</span><span class="p">)</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">name_file</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="c1"># data is now in memory</span>
<span class="n">name_file</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="c1"># build a dictionary</span>
<span class="n">line</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1">    ^(?P&lt;name&gt;[-\w ]*,\s[-\w ]+)\t</span>
<span class="s1">    (?P&lt;email&gt;[-\w\d.+]+@[-\w\d.]+)\t</span>
<span class="s1">    (?P&lt;phone&gt;\(?\d{3}\)?-?\s?\d{3}-\d{4})?\t</span>
<span class="s1">    (?P&lt;job&gt;[\w\s]+,\s[\w\s.]+)\t?</span>
<span class="s1">    (?P&lt;twitter&gt;@[\w\d]+)?$</span>
<span class="s1">&#39;&#39;&#39;</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">X</span><span class="o">|</span><span class="n">re</span><span class="o">.</span><span class="n">MULTILINE</span><span class="p">)</span>

<span class="k">for</span> <span class="n">match</span> <span class="ow">in</span> <span class="n">line</span><span class="o">.</span><span class="n">finditer</span><span class="p">(</span><span class="n">data</span><span class="p">):</span> <span class="c1"># CHANGE</span>
    <span class="k">print</span> <span class="n">match</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">)</span>
</pre></div>
</td></tr></table>

<p>Results (a tupple).</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>Liff, Kenneth
McFarland, Arthur
Carson, Ryan
Exampleson, Exampleme
Obama, Barack
Chalks, Andrew
Vader, Darth
</pre></div>
</td></tr></table>

<p>The only problem: it did not catch <code class="codehilite">Ö</code> and <code class="codehilite">, Tim</code>. This is the problem with Windows: it is picky with some characters and requires extra coding to work around these problems. UNIX-based OS do not have these problems.</p>
<p>Create sub-patterns and extract specific groups.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="nn">re</span>

<span class="c1"># read the file</span>
<span class="n">name_file</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;names.txt&quot;</span><span class="p">)</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">name_file</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="c1"># data is now in memory</span>
<span class="n">name_file</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="c1"># build a dictionary</span>
<span class="n">line</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1">    ^(?P&lt;name&gt;(?P&lt;last&gt;[-\w ]*),\s(?P&lt;first&gt;[-\w ]+))\t # CHANGE</span>
<span class="s1">    (?P&lt;email&gt;[-\w\d.+]+@[-\w\d.]+)\t</span>
<span class="s1">    (?P&lt;phone&gt;\(?\d{3}\)?-?\s?\d{3}-\d{4})?\t</span>
<span class="s1">    (?P&lt;job&gt;[\w\s]+,\s[\w\s.]+)\t?</span>
<span class="s1">    (?P&lt;twitter&gt;@[\w\d]+)?$</span>
<span class="s1">&#39;&#39;&#39;</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">X</span><span class="o">|</span><span class="n">re</span><span class="o">.</span><span class="n">MULTILINE</span><span class="p">)</span>

<span class="k">for</span> <span class="n">match</span> <span class="ow">in</span> <span class="n">line</span><span class="o">.</span><span class="n">finditer</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
    <span class="k">print</span> <span class="s1">&#39;{first} {last} &lt;{email}&gt;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">**</span><span class="n">match</span><span class="o">.</span><span class="n">groupdict</span><span class="p">())</span>
</pre></div>
</td></tr></table>

<p>Results</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>Kenneth Liff &lt;kenneth@submarine.com&gt;
Arthur McFarland &lt;arty@submarine.com&gt;
Ryan Carson &lt;ryan@submarine.com&gt;
Exampleme Exampleson &lt;me@example.com&gt;
Barack Obama &lt;president.44@us.gov&gt;
Andrew Chalks &lt;andrew@submarine.com&gt;
Darth Vader &lt;darth-vader@empire.gov&gt;
</pre></div>
</td></tr></table>

<p>The only problem: it did not catch <code class="codehilite">Ö</code> and <code class="codehilite">, Tim</code>. This is the problem with Windows: it is picky with some characters and requires extra coding to work around these problems. UNIX-based OS do not have these problems.</p>
<h5 id="recap_6">Recap:<a class="headerlink" href="#recap_6" title="Permanent link">&para;</a></h5>
<ul>
<li><code class="codehilite">match</code>.</li>
<li><code class="codehilite">search</code>.</li>
<li>Escape characters (previous section).</li>
<li>Repetitions (previous section).</li>
<li><code class="codehilite">findall</code>.<ul>
<li><code class="codehilite">re.IGNORECASE</code>.</li>
<li><code class="codehilite">re.VERBOSE|re.I</code>.</li>
<li><code class="codehilite">re.X</code>.</li>
<li><code class="codehilite">re.X|re.MULTILINE</code> or <code class="codehilite">re.X|re.M</code>.</li>
</ul>
</li>
<li><code class="codehilite">compile</code>.</li>
<li><code class="codehilite">groupdict</code>.</li>
<li><code class="codehilite">line.finditer</code>.</li>
<li><code class="codehilite">match.group</code>.</li>
<li><code class="codehilite">match.groupdict</code>.</li>
</ul>
                
                  
                
              
              
                
              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../Write_Better_Python/" title="Write Better Python with PEP" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Write Better Python with PEP
              </span>
            </div>
          </a>
        
        
          <a href="../Databases/" title="Databases" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Databases
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            © Ugo Sparks
          </div>
        
        powered by
        <a href="http://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.8eb9be28.js"></script>
      
      <script>app.initialize({version:"0.17.3",url:{base:".."}})</script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      
    
    
      
        <script>!function(e,a,t,n,o,c,i){e.GoogleAnalyticsObject=o,e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=1*new Date,c=a.createElement(t),i=a.getElementsByTagName(t)[0],c.async=1,c.src="https://www.google-analytics.com/analytics.js",i.parentNode.insertBefore(c,i)}(window,document,"script",0,"ga"),ga("create","UA-93008985-2","auto"),ga("set","anonymizeIp",!0),ga("send","pageview");var links=document.getElementsByTagName("a");if(Array.prototype.map.call(links,function(e){e.host!=document.location.host&&e.addEventListener("click",function(){var a=e.getAttribute("data-md-action")||"follow";ga("send","event","outbound",a,e.href)})}),document.forms.search){var query=document.forms.search.query;query.addEventListener("blur",function(){if(this.value){var e=document.location.pathname;ga("send","pageview",e+"?q="+this.value)}})}</script>
      
    
  </body>
</html>